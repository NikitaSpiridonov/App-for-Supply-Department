syntax = "proto3";

package payment.v1;

import "google/api/annotations.proto";
// import "validate/validate.proto";

option go_package = "github.com/NikitaSpiridonov/App-for-Supply-Department/shared/pkg/proto/payment/v1;payment_v1";

// PaymentService allows to pay for the order
service PaymentService {
    // PayOrder llows to pay for the order using one of the available payment methods
    rpc PayOrder (PayOrderRequest) returns (PayOrderResponse) {
        option (google.api.http) = {
            post: "/api/v1/orders/{order_uuid}/pay"
            body: "*"
        };
    }
}
// Method for a pay for the order in enum
message PaymentMethod {
    // list of methods  
    enum Method {
        METHOD_UNSPECIFIED = 0;
        METHOD_CARD = 1;
        METHOD_SBP = 2;
        METHOD_TRANSFER = 3;
    }
}

// request for the order payment with order_uuid, user_uuid
message PayOrderRequest {
    string order_uuid = 1;
    string user_uuid = 2;
    PaymentMethod payment_method = 3;
}

// response or the order payment with transaction_uuid
message PayOrderResponse {
    string transaction_uuid = 1;
}