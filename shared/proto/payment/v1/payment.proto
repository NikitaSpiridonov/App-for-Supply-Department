syntax = "proto3";

package payment.v1;

import "google/api/annotations.proto";
// import "validate/validate.proto";

option go_package = "github.com/NikitaSpiridonov/App-for-Supply-Department/shared/pkg/proto/payment/v1;payment_v1";

// PaymentService allows to pay for the order
service PaymentService {
    // PayOrder llows to pay for the order using one of the available payment methods
    rpc PayOrder (PayOrderRequest) returns (PayOrderResponse) {
        option (google.api.http) = {
            post: "/api/v1/orders/{order_uuid}/pay"
            body: "*"
        };
    }
}
message PaymentMethod {
    enum Method {
        UNKNOWN = 0;
        CARD = 1;
        SBP = 2;
        TRANSFER = 3;
    }
}

message PayOrderRequest {
    string order_uuid = 1;
    string user_uuid = 2;
    PaymentMethod payment_method = 3;
}

message PayOrderResponse {
    string transaction_uuid = 1;
}